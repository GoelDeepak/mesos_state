{dialyzer, [{warnings, [no_behaviours, race_conditions, error_handling]}]}.
{xref_checks, [undefined_function_calls, undefined_functions, locals_not_used, deprecated_function_calls, deprecated_functions]}.
{erl_opts, [
  warnings_as_errors,
  debug_info,
  {parse_transform, lager_transform},
  {i, "./_build/default/plugins/gpb/include"}
]}.

{eunit_opts, [verbose, {report,{eunit_surefire,[{dir,"."}]}}]}.

{cover_enabled, true}.

%% Whether to print coverage report to console. Default is `false'
{cover_print_enabled, true}.

%% Whether to export coverage report to file. Default is `false'
{cover_export_enabled, true}.

{deps, [
  {lager, ".*", {git, "git://github.com/basho/lager", {tag, "3.2.0"}}},
  {jsx, ".*", {git, "https://github.com/talentdeficit/jsx.git", {tag, "v2.7.1"}}},
  {rec2json, {git, "git://github.com/lordnull/rec2json", {tag, "3.1.0"}}}
]}.



{profiles, [
  {test,
    [
      {deps, [
        {proper, ".*", {git, "https://github.com/manopapad/proper.git", master}}
      ]}
    ]}
]}.

{plugins, [rebar3_gpb_plugin]}.

{provider_hooks, [
  {pre, [
    {compile, {protobuf, compile}},
    {clean, {protobuf, clean}}
  ]}
]}.

{gpb_opts, [
  {msg_name_prefix, "mesos_state_"},
  {module_name_prefix, "mesos_state_"},
  {module_name_suffix, "_pb"},
  {msg_name_to_lower, true},
  {strings_as_binaries, true},
  type_specs,
  strings_as_binaries
]}.

